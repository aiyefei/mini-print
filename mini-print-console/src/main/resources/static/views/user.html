<div class="row">
	<div class="col-lg-12">
		<h1 class="page-header">系统用户管理</h1>
	</div>
	<!-- /.col-lg-12 -->
</div>
<!-- /.row -->
<div class="row">
	<div class="col-lg-12">
		<div class="panel panel-default">
			<div class="panel-heading">
				<button type="button" class="btn btn-success"
					ng-click="createUser()">新增用户</button>
			</div>
			<!-- /.panel-heading -->
			<div class="panel-body">

				<div class="dataTable_wrapper">		
					<table id="userTable" class="table table-striped table-bordered table-hover">
					    <thead>
					        <tr>
					            <th data-field="name" data-sortable="true">姓名</th>
					            <th data-field="login_id" data-sort-name="loginId" data-sortable="true">登录名</th>
					            <th data-field="role_type">角色</th>
					            <th data-field="status" data-sortable="true">状态</th>
					            <th data-field="id">操作</th>
					        </tr>
					    </thead>
					</table>
				</div>
			</div>
			<!-- /.panel-body -->
		</div>

		<!-- Modal -->
		<div class="modal fade" id="userEditModal" tabindex="-1" role="dialog"
			aria-labelledby="editModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal"
							aria-hidden="true">&times;</button>
						<h4 class="modal-title" id="editModalLabel">用户编辑</h4>
					</div>
					<div class="modal-body">
						<form name="userForm" class="form-horizontal" novalidate>
							<div class="alert alert-danger" ng-show="error">{{errMsg}}</div>

							<input type="hidden" name="userId" ng-model="user.userId" />

							<div class="form-group"
								ng-class="{ 'has-error' : userForm.name.$invalid && !userForm.name.$pristine }">
								<label for="name" class="col-sm-3 control-label">姓名</label>
								<div class="col-sm-9">
									<input type="text" class="form-control" name="name"
										ng-model="user.name" placeholder="请输入姓名" required>
								</div>
							</div>

							<div class="form-group"
								ng-class="{ 'has-error' : userForm.email.$invalid && !userForm.email.$pristine }">
								<label for="email" class="col-sm-3 control-label">邮箱</label>
								<div class="col-sm-9">
									<input type="email" class="form-control" name="email"
										ng-model="user.email" placeholder="请输入邮箱">
								</div>
							</div>

							<div class="form-group"
								ng-class="{ 'has-error' : userForm.login_id.$invalid && !userForm.login_id.$pristine }">
								<label for="login_id" class="col-sm-3 control-label">登录账户</label>
								<div class="col-sm-9">
									<input type="text" class="form-control" name="login_id"
										ng-model="user.login_id" placeholder="请输入登录账户" required>
								</div>
							</div>

							<div class="form-group"
								ng-class="{ 'has-error' : userForm.role_type.$invalid && !userForm.role_type.$pristine }">
								<label for="role_type" class="col-sm-3 control-label">角色</label>
								<div class="col-sm-6">
									<select class="form-control" name="role_type" ng-model="user.role_type" required>
										<option value="">请选择</option>
										<option ng-repeat="x in roleTypes" value="{{x.code}}">{{x.text}}</option>
									</select>
								</div>
							</div>

							<div class="form-group"
								ng-class="{ 'has-error' : userForm.status.$invalid && !userForm.status.$pristine }">
								<label for="status" class="col-sm-3 control-label">状态</label>
								<div class="col-sm-6">
									<select class="form-control" name="status"
										ng-model="user.status" required>
										<option value="">请选择</option>
										<option ng-repeat="x in statuses" value="{{x.code}}">{{x.text}}</option>
									</select>
								</div>
							</div>

							<div class="form-group">
								<label for="description" class="col-sm-3 control-label">备注</label>
								<div class="col-sm-9">
									<textarea class="form-control" name="description"
										ng-model="user.description" rows="3" placeholder="请输入备注"></textarea>
								</div>
							</div>
						</form>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
						<button type="button" class="btn btn-primary"
							ng-click="saveUser()" ng-disabled="userForm.$invalid">保存</button>
					</div>
				</div>
				<!-- /.modal-content -->
			</div>
			<!-- /.modal-dialog -->
		</div>
		<!-- /.modal -->

		<!-- /.panel -->
	</div>
	<!-- /.col-lg-12 -->
</div>
<!-- /.row -->